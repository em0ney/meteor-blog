<template name="blogIndex">
  <div id="meteor-blog" class="blog-list">
      <div class="row">
        <div class="col-md-10">
          {{> blogIndexLoop}}
          {{blogPager}}
        </div>
      </div>
  </div>
</template>

<template name="blogIndexLoop">
  {{#each posts}}
    <article class="post">
      <h2>
        <a href="{{pathFor 'blogShow'}}">{{title}}</a>
      </h2>
      <div class="post-meta">
        By {{{authorName}}} on {{blogFormatDate publishedAt}}
        {{> blogTags }}
        {{> shareWidgets }}
      </div>
      <div class="the-content">
        {{{excerpt}}}
      </div>
    </article>
  {{else}}
    This blog is looking pretty empty...
  {{/each}}
</template>

<template name="blogTags">
  {{#if tags}}
    <div class="post-tags">
      <p> &ndash; Tags: {{blogFormatTags tags}}</p>
    </div>
  {{/if}}
</template>

<template name="shareWidgets">
  <div class="shareWidgets">
    <a href="https://twitter.com/share" class="twitter-share-button" data-url="{{urlFor 'blogShow'}}" data-text="{{title}}" data-hashtags="{{ joinTags tags }}" via="ElliottSpira">Tweet</a>
  </div>
</template>

